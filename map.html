<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта RPM</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body, html { margin: 0; padding: 0; height: 100%; background: #000; font-family: sans-serif; }
        #map { height: 100vh; width: 100%; }
        
        .leaflet-popup-content-wrapper {
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            border-radius: 4px;
        }
        .leaflet-popup-tip { background: rgba(0, 0, 0, 0.8); }
    </style>
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    const imgWidth = 2550;
    const imgHeight = 1619;
    const imgUrl = 'map.png';
    const bounds = [[0, 0], [imgHeight, imgWidth]];

    const zonesData = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"name":"Зеленая зона"},"geometry":{"type":"Polygon","coordinates":[[[682,851.50092],[114.000033,851.99954],[112.989264,1089.572364],[137.987637,1191.010119],[195.483896,1336.42089],[279.506279,1330.503373],[344.004815,1342.494174],[406.002863,1344.99632],[460.501334,1335.503066],[515.0027,1327.505213],[533.499284,1319.997854],[529.500488,1305.005213],[558.960244,1299.443581],[597.499902,1286.995707],[633.499154,1260.992028],[681.95224,1197.006439],[692.951524,1091.071444],[693.451492,937.665578],[682,851.50092]]]}},{"type":"Feature","properties":{"name":"Красная зона"},"geometry":{"type":"Polygon","coordinates":[[[114.000033,851.500307],[114.997235,826.065925],[128.996324,791.087389],[118.493851,777.284342],[120.743623,622.315618],[117.744046,544.313165],[122.743721,494.093981],[136.492826,469.109312],[138.242712,437.878477],[135.493591,381.314698],[394.242956,377.057646],[406.492159,368.562858],[542.733294,368.562858],[579.99987,418.00184],[608.728999,469.750767],[634.99974,487.00322],[653.240712,514.538482],[667.499658,528.256899],[671.250098,564.255826],[680.749447,596.75138],[671.749837,624.00184],[682.750049,676.751686],[694.999756,717.000307],[689.249854,816.765485],[682.250228,851.250153],[114.000033,851.500307]]]}},{"type":"Feature","properties":{"name":"Черная зона"},"geometry":{"type":"Polygon","coordinates":[[[672.500065,1230.499847],[672.500065,1506.068071],[1108.249935,1506.068071],[1108.249935,1230.499847],[672.500065,1230.499847]]]}},{"type":"Feature","properties":{"name":"Золотая зона"},"geometry":{"type":"Polygon","coordinates":[[[836.500374,1230],[835.74974,1215.753526],[821.499593,1213.246014],[788.250146,1183.49908],[767.749984,1162.003373],[744.746259,1152.813012],[728.500081,1135.249233],[714.748211,1115.086162],[693.250098,1090.748007],[693.000065,1051.749693],[693.250065,1014.74862],[694.000016,937.249233],[682.000065,851.499847],[689.500098,817.249387],[694.750114,717],[682.500098,676.995861],[671.500081,623.500153],[680.500146,596.749693],[670.750293,563.998927],[667.750179,528.250613],[664.00026,432.75276],[1106.749707,432.00368],[1105.249658,704.966578],[1098.000065,862.749693],[1105.250049,863.252606],[1114.249772,872.249847],[1113.74974,951.25],[1106.988613,1030.277136],[1110.500553,1073.00092],[1130.99808,1118.707379],[1109.000683,1173.749847],[1108.249886,1230.5],[836.500374,1230]]]}},{"type":"Feature","properties":{"name":"Синяя зона"},"geometry":{"type":"Polygon","coordinates":[[[1605.488873,1194.55366],[1576.990175,1231.542008],[1577.489231,1303.009505],[1669.483245,1307.028823],[1671.486108,1351.50276],[1496.49756,1401.985589],[1244.000195,1405],[1244.250179,1106.748314],[1244.749512,1085.254753],[1222.000325,1084.991568],[1224.749854,864.510119],[1261.00013,863.504139],[1259.749886,839.737888],[1259.749691,781.246934],[1274.000765,738.001073],[1308.00026,695.751533],[1320.250407,650.005519],[1336.500553,618.252453],[1332.500179,593.249387],[1333.964408,566.399841],[1351.50205,513.508279],[1376.501464,579.949407],[1392.001269,528.501227],[1433.005726,491.908932],[1489.50514,437.932235],[1492.006377,186.073284],[1667.501529,187.491414],[1667.249658,389.494941],[1644.999154,393.757972],[1621,404.252913],[1599.499837,420.002606],[1605.99974,444.291088],[1605.000016,521.001533],[1602.000179,548.008432],[1605.24987,577.248773],[1602.000163,606.2477],[1559.750488,602.24954],[1543.250228,596.001227],[1527.750309,593.50184],[1525.75026,607.770851],[1531.000033,640.4977],[1532.249967,660.251993],[1534.749821,681.005519],[1537.002473,696.492488],[1561.250976,693.748927],[1587.250065,692.24908],[1615.000033,691.747394],[1614.976706,713.566231],[1660.473745,714.065925],[1668.749805,716.752453],[1669.750098,727.749847],[1676.972671,806.009505],[1701.971045,823.498773],[1725.50026,820.252146],[1760.499024,827.747394],[1756.249447,866.002453],[1750.000211,892.499233],[1750.000992,916.542468],[1760.250472,947.551973],[1756.749512,963.247087],[1741.500439,968.50322],[1739.499854,984.250307],[1737.252294,1000.778823],[1734.749772,1034.25],[1725.252912,1067.755519],[1701.249675,1089.24632],[1663.257922,1092.034342],[1632.750651,1118.504293],[1622.010606,1159.149021],[1605.488873,1194.55366]]]}},{"type":"Feature","properties":{"name":"Голубая зона"},"geometry":{"type":"Polygon","coordinates":[[[1760.478951,827.554273],[1724.74076,819.539402],[1701.242289,823.287102],[1677.243851,805.797834],[1668.744404,716.852413],[1660.500081,713.499693],[1615.250033,712.99954],[1615.497869,691.867745],[1537.245413,696.294768],[1530.995819,640.828803],[1526.246128,606.599807],[1527.496047,594.107473],[1543.244616,595.796301],[1558.24364,602.292314],[1602.990728,606.040015],[1605.740549,577.307646],[1602.49076,546.82635],[1605.490565,522.091528],[1605.991932,445.054733],[1599.992322,420.070064],[1621.740907,404.079876],[1644.489426,394.086009],[1666.737979,389.338922],[1719.998861,372.25046],[1728.749821,344.25],[1732.001562,316.016864],[1731.508296,283.001533],[1732.009402,204.546914],[1812.999967,202.005213],[1893.000618,204.531889],[1891.501464,235.490495],[1945.75026,236.251227],[1964.75026,217.499847],[1971.487572,195.823284],[1969.000358,180.247087],[1965.250163,166.75],[1974.750195,148.249693],[1999.750342,134.997087],[2016.500081,119.002453],[2047.749707,118.75046],[2070.250439,123.248314],[2098.249447,122.49816],[2144.249577,104.747854],[2185.750537,82.75368],[2207.499691,85.996627],[2219.983538,78.121424],[2236.000065,79.251073],[2254.249951,84.000307],[2287.000976,90.742181],[2322.750195,97.246627],[2349.751936,105.244634],[2371.750342,135.506439],[2374.500098,195.479456],[2388.250992,260.49816],[2372.000179,289.495861],[2361.252033,305.009505],[2372.00109,344.256439],[2385.250114,389],[2385.500716,482.996934],[2381.250716,537.990495],[2387.972606,567.321237],[2374.250716,604.746167],[2382.500195,629.75],[2374.501171,699.74632],[2365.000846,756.509659],[2344.75109,789.521924],[2314.499772,809.504753],[2275.749789,824.255519],[2242.999187,823.258279],[2212.999414,824.507512],[2179.999545,835.753373],[2145.499252,834.753526],[2126.749626,827.251073],[2101.999837,835.25322],[2081.749919,842.002453],[2058.749984,843.7523],[2025.249886,841.754139],[2005.487637,844.578803],[1956.00013,842.747394],[1917.500228,834.99816],[1887.749821,833.749847],[1847.000504,837.251533],[1820.001464,834.756899],[1788.500098,834.003066],[1760.478951,827.554273]]]}},{"type":"Feature","properties":{"name":"Жёлтая зона"},"geometry":{"type":"Polygon","coordinates":[[[1931.998699,891.244787],[1899.751041,891.007972],[1899.250765,920.273457],[1930.998861,920.804426],[1932.249723,1071.000613],[2244.001301,1072.001227],[2243.501204,847.5],[2069.5,846.752913],[1933.497527,845.756133],[1931.998699,891.244787]]]}},{"type":"Feature","properties":{"name":"Красная зона"},"geometry":{"type":"Polygon","coordinates":[[[1115.922179,146.697883],[1115.922179,312.596083],[1289.910857,312.596083],[1289.910857,146.697883],[1115.922179,146.697883]]]}}]}

    const map = L.map('map', {
    crs: L.CRS.Simple,
    minZoom: -1,
    maxZoom: 1,
    attributionControl: false,
    maxBounds: bounds, 
    maxBoundsViscosity: 1.0 
});

    L.imageOverlay(imgUrl, bounds).addTo(map);
    map.fitBounds(bounds);

    const colorMap = {
        "Зеленая зона": "#28a745",
        "Красная зона": "#dc3545",
        "Черная зона": "#111111",
        "Золотая зона": "#ffc107",
        "Синяя зона": "#007bff",
        "Голубая зона": "#17a2b8",
        "Жёлтая зона": "#ffeb3b"
    };

    function style(feature) {
        const zoneName = feature.properties.name;
        const color = colorMap[zoneName] || "#ffffff";
        return {
            fillColor: color,
            weight: 2,
            opacity: 1,
            color: 'white',
            fillOpacity: 0.1
        };
    }

    function onEachFeature(feature, layer) {
        layer.on({
            mouseover: (e) => {
                const l = e.target;
                l.setStyle({ fillOpacity: 0.3, weight: 3 });
            },
            mouseout: (e) => {
                geojson.resetStyle(e.target);
            }
        });
        layer.bindPopup("<b>" + feature.properties.name + "</b>");
    }

    const geojson = L.geoJSON(zonesData, {
        style: style,
        onEachFeature: onEachFeature
    }).addTo(map);

</script>
</body>
</html> 
